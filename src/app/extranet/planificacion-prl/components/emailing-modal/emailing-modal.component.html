<section class="assign-preventive-measure-modal">
  <header>
    <h2>{{ title | translate | titlecase }}</h2>
  </header>

  <main>
    <form [formGroup]="form">
      <div class="row" *ngFor="let field of data.emailFields">
        <div class="col-12">
          <mat-form-field appearance="outline">
            <mat-label>{{ field.value.label | translate }}</mat-label>
            <input
              matInput
              [formControlName]="field.value.formName"
              [required]="field.required"
            />
          </mat-form-field>
        </div>
      </div>
    </form>

    <div *ngIf="!hideDataToEmail && data.dataToEmail.length > 0" class="row">
      <div class="col-12">
        <p>
          <strong
            >{{ data.dataToEmail.length }}
            {{ attachmentsTitle | translate }}</strong
          >
        </p>

        <div
          class="measures-container"
          [ngClass]="{ 'with-multiple-measures': data.dataToEmail.length > 1 }"
        >
          <div class="measure" *ngFor="let data of data.dataToEmail">
            <p class="measure-description">{{ data[dataToEmailLabelKey] }}</p>
          </div>
        </div>
      </div>
    </div>
  </main>

  <footer>
    <button class="clean-button" (click)="close()">
      {{ "CANCELAR" | translate }}
    </button>
    <button class="submit-button" (click)="send()" [disabled]="form.invalid">
      {{ "ENVIAR" | translate }}
    </button>
  </footer>
</section>
